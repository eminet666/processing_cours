<!-- https://github.com/spite/ccapture.js/ -->
<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script> -->
    <script src="https://unpkg.com/ccapture.js@1.1.0/build/CCapture.all.min.js"></script>

    <meta charset="utf-8">

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <script>
        let myFont;

        function preload() {
            myFont = loadFont('space-grotesk.light.otf');
        }

        var xpos = 50;
        var speed = 1;

        function setup() {
            // console.log(windowWidth+"_"+windowHeight)
            createCanvas(windowWidth, windowHeight);
            textAlign(CENTER, CENTER);
            noCursor();

        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }

        function draw() {
            background('#f8fab8');
            strokeWeight(3);
            ellipseMode(CENTER);

            for (var x = 10; x < windowWidth; x = x + 40) {
                for (var y = 10; y < windowWidth; y = y + 40) {
                    push();
                    translate(x, y);
                    dessiner();
                    pop();
                }
            }


            if ((xpos > width - 50) || (xpos < 50)) {
                speed = speed * -1;
            }

            fill('#f8dc88');
            noStroke();
            ellipse(xpos, xpos, 80, 80);

            if (mouseIsPressed) {
                xpos = xpos + speed;
            } else {
                speed = speed * -1;
            }

            push();
            textSize(width / 12);
            textFont(myFont);
            fill(0);
            noStroke();
            text('diagonal', mouseX, mouseY);
            pop();

        }

        function dessiner() {
            fill(204, 240, 225);
            ellipse(10, 10, 30, 30);
        }
    </script>

</body>

</html>
